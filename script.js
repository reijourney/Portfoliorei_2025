const experiences = [
  {
    title: "Graphic Designer (Intern)",
    company: "Seragamin - Batam",
    period: "Agustus 2025",
    details: [
      "Mengubah permintaan atau ide pelanggan terkait desain seragam kasual dan merchandise menjadi desain visual yang siap diproduksi.",
      "Membuat dan mencetak mockup desain untuk mendapatkan persetujuan pelanggan sebelum masuk ke tahap produksi.",
      "Berkoordinasi dengan tim layanan pelanggan, administrasi, dan produksi untuk memastikan desain sesuai dengan kebutuhan dan jadwal pengerjaan.",
      "Memberikan konsultasi desain yang komunikatif dan solutif kepada pelanggan untuk memastikan kepuasan dan kenyamanan selama proses desain.",
      "Mengelola dan mengarsipkan data desain serta dokumen produksi dengan rapi untuk memudahkan pelacakan proyek.",
      "Melakukan revisi desain berdasarkan umpan balik dari pelanggan atau tim internal hingga mencapai hasil akhir yang sesuai.",
      "Menyiapkan file desain akhir (final artwork) dengan format yang sesuai untuk proses sablon, bordir, atau cetak DTF.",
      "Memastikan konsistensi warna, proporsi, dan elemen visual agar hasil cetak sesuai dengan konsep awal.",
      "Berkolaborasi dengan tim produksi untuk melakukan uji coba hasil cetak (print test) sebelum produksi massal.",
      "Mengembangkan ide-ide desain baru yang relevan dengan tren fashion dan kebutuhan pasar untuk meningkatkan nilai estetika produk Seragamin."
    ],
    // Tambahkan properti imageSrcs untuk gambar-gambar profesional
    imageSrcs: [
      "img/experience/seragamin/seragamin1.jpg", // Ganti dengan jalur gambar sebenarnya
      "img/experience/seragamin/seragamin2.png",
      "img/experience/seragamin/seragamin3.jpg",
      "img/experience/seragamin/seragamin4.jpg",
      "img/experience/seragamin/seragamin5.jpg",
      "img/experience/seragamin/seragamin6.jpg",
      "img/experience/seragamin/seragamin7.jpg"
    ]
  },

  {
    title: "Pengawas Tempat Pemungutan Suara",
    company: "Bawaslu RI - Batam",
    period: "November 2024",
    details: [
      "Mengikuti pelantikan resmi dan pelatihan teknis terkait pengawasan pemilihan calon Gubernur dan Walikota.",
      "Menjaga integritas, profesionalisme, dan netralitas selama proses pemilihan.",
      "Mengawasi proses pemungutan dan penghitungan suara di TPS 039 untuk memastikan kepatuhan terhadap peraturan yang ditetapkan oleh Komisi Pemilihan Umum (KPU).",
      "Ditugaskan di RT 004/RW 017, Posyandu Bougenvil, Griya Batu Aji Asri Tahap V, Kelurahan Sungai Langkai, Kecamatan Sagulung."
    ],
    // Tambahkan properti imageSrcs untuk gambar-gambar profesional
    imageSrcs: [
      "img/experience/ptps/ptps1.jpg", // Ganti dengan jalur gambar sebenarnya
      "img/experience/ptps/ptps2.jpg",
      "img/experience/ptps/ptps3.jpeg",
      "img/experience/ptps/ptps4.jpg",
      "img/experience/ptps/ptps5.jpg",
      "img/experience/ptps/ptps6.jpg",
      "img/experience/ptps/ptps7.jpg"
    ]
  },
  {
    title: "Owner & Graphic Designer",
    company: "Rei Foods - Batam",
    period: "Juni – Agustus 2023",
    details: [
      "Merancang identitas visual merek, termasuk logo utama Rei Foods dan elemen branding lainnya.",
      "Mengelola operasional harian bisnis kuliner Rei Foods, termasuk pengadaan bahan baku, pengawasan produksi, dan pelayanan pelanggan.",
      "Membuat konten visual untuk kebutuhan promosi di media sosial, seperti Instagram.",
      "Mengembangkan strategi pemasaran digital untuk meningkatkan visibilitas dan keterlibatan audiens.",
      "Mengawasi kualitas produk dan layanan untuk memastikan kepuasan pelanggan.",
      "Mengelola keuangan dan laporan penjualan harian sebagai bagian dari pengambilan keputusan bisnis.",
      "Mengembangkan materi promosi musiman dan berkolaborasi dengan UMKM lain untuk memperluas jangkauan pasar.",
      "Menerapkan protokol kebersihan dan standar keamanan pangan sesuai peraturan yang berlaku."
    ],
    imageSrcs: [
      "img/experience/rei-foods/reifoodslogo.png", // Ganti dengan jalur gambar sebenarnya
      "img/experience/rei-foods/reifoods2.jpg",
      "img/experience/rei-foods/reifoods3.jpg"
    ]
  },
  {
    title: "Crew Outlet",
    company: "Shakeel Kebab - Batam",
    period: "Desember – April 2023 ",
    details: [
      "Memberikan layanan pelanggan yang cepat dan ramah sesuai standar operasional.",
      "Bertanggung jawab atas proses transaksi kasir, penyajian makanan, dan pengepakan pesanan.",
      "Menghadiri briefing harian dan pelatihan reguler untuk peningkatan layanan.",
      "Menjaga kebersihan area outlet dan memastikan ketersediaan serta kesegaran bahan makanan setiap hari.",
      "Melakukan pemeriksaan stok harian dan melaporkan kebutuhan restock kepada supervisor.",
      "Membantu dalam persiapan bahan makanan dan memastikan penyimpanan sesuai standar kebersihan.",
      "Bekerja sama dengan tim untuk memastikan kelancaran operasional selama jam sibuk.",
      "Melaksanakan protokol kesehatan dan keselamatan kerja sesuai peraturan perusahaan."
    ],
    imageSrcs: [
      "img/experience/shakeel-kebab/sklogo.jpg",
      "img/experience/shakeel-kebab/sk1.jpg", // Ganti dengan jalur gambar sebenarnya
      "img/experience/shakeel-kebab/sk2.jpg"
    ]
  },
  {
    title: "Graphic Designer (Intern)",
    company: "CV. Wali Printing - Batam",
    period: "Juli – Desember 2020",
    details: [
      "Menghasilkan desain grafis yang menarik dan sesuai dengan standar perusahaan.",
      "Menambahkan mata ayam untuk spanduk sesuai kebutuhan klien.",
      "Mengantarkan spanduk yang telah dipesan oleh klien, seperti perusahaan DJP Pajak.",
      "Bekerja sama dengan tim produksi untuk memastikan kualitas cetak dan finishing spanduk."
    ],
    imageSrcs: [
      "img/experience/cv-wali-printing/intern_certificate.jpg",
      "img/experience/cv-wali-printing/intern_smk1.jpg",
      "img/experience/cv-wali-printing/intern_smk2.jpg",
      "img/experience/cv-wali-printing/intern_smk3.jpg",
      "img/experience/cv-wali-printing/intern_smk4.jpg",
      "img/experience/cv-wali-printing/intern_smk5.jpg",
      "img/experience/cv-wali-printing/intern_smk6.jpg",
      "img/experience/cv-wali-printing/intern_smk7.jpg",
      "img/experience/cv-wali-printing/intern_smk8.jpg"
    ]
  }
];

const projects = [
  {
    title: "PBL: Game VR Mahakarya",
    role: "Pengembang Aset Visual 3D & UX VR",
    year: "Februari - Juni 2025",
    category: "Game Artist / VR",
    description: "Melanjutkan pengembangan proyek mahasiswa sebelumnya dengan meningkatkan kualitas aset visual 3D dan pengalaman pengguna dalam format virtual reality. Mendesain ulang dan meningkatkan elemen lingkungan setiap peta agar lebih imersif dan kompatibel dengan teknologi VR. Berkolaborasi dengan tim pengembang dan desainer untuk mengintegrasikan aset ke dalam game engine secara efisien.",
    imageSrc: "img/projects-media/game-vr-mahakarya/thumb-mahakarya.png", // Contoh path gambar
    link: "https://youtu.be/GVWO4ww6cjo" // Contoh link
  },
  {
    title: "PBL: Arduino Uno Unity Fishing Game – NusaFish Game",
    role: "Pimpinan Tim Pengembang, Desain Aset Visual",
    year: "Agustus 2024 - Januari 2025",
    category: "Game Dev",
    description: "Memimpin tim pengembangan game simulasi memancing dengan kontrol berbasis Arduino dan Unity. Membantu dalam pembuatan aset visual seperti UI game dan integrasi elemen 3D. Menetapkan timeline dan membagi peran anggota tim untuk memastikan proyek selesai tepat waktu.",
    imageSrc: "img/projects-media/nusafish-game/thumb-nusafish.png", // Contoh path gambar
    link: "https://youtu.be/Y-HECU57nic" // Contoh link
  },
  {
    title: "PBL: Aplikasi Pembuka Pintu Garasi – GateSync",
    role: "Desainer UI/UX",
    year: "Januari - Juli 2024",
    category: "UI/UX",
    description: "Merancang antarmuka pengguna yang intuitif untuk aplikasi pembuka pintu garasi berbasis IoT. Membuat alur pengguna dan prototipe interaktif menggunakan Figma untuk meningkatkan pengalaman pengguna. Melakukan riset pengguna dan pengujian kegunaan untuk menyempurnakan fungsionalitas aplikasi.",
    imageSrc: "img/projects-media/gatesync-app/thumb-gatesync.png", // Tambahkan ini
    link: "https://youtu.be/hyyRTF0zbaw?si=PFZajoWShJoT957X" // Tambahkan ini (opsional)
  },
  {
    title: "PBL: Video Buletin Dinas UMKM Kepri – Adjiktif Media",
    role: "Produksi Video (Shooting, Editing, Motion Graphics)",
    year: "Oktober - Desember 2023",
    category: "Videografi",
    description: "Terlibat dalam proses produksi video, termasuk pengambilan gambar, editing, dan pasca-produksi. Membuat motion graphics dan naskah visual untuk buletin informasi UMKM Kepri. Menyesuaikan format dan durasi video untuk distribusi di media sosial dan platform resmi pemerintah.",
    imageSrc: "img/projects-media/adjiktif-media/thumb-adjiktifmedia.png", // Tambahkan ini
    link: "https://youtu.be/MVONm8EuSA4?si=aW42s-7wPyeEzQ2W" // Tambahkan ini (opsional)
  },
  {
    title: "PBL: Website & Aplikasi Pembayaran Sampah – PayTrash",
    role: "Desainer UI/UX",
    year: "Januari - Juni 2023",
    category: "UI/UX",
    description: "Merancang elemen visual seperti logo, ilustrasi, dan antarmuka promosi untuk platform pembayaran sampah digital. Memastikan branding yang konsisten di semua media digital dan cetak. Berkolaborasi dengan tim pengembang untuk implementasi desain yang optimal.",
    imageSrc: "img/projects-media/paytrash-web/thumb-paytrash.jpg", // Tambahkan ini
    link: "https://youtu.be/YRpkNLlsItI?si=WQsgiVI0M6W6lmBb" // Tambahkan ini (opsional)
  },
  {
    title: "Film Pendek – UKM Reka Multimedia (REKAM)",
    role: "Gaffer, Asisten Sutradara, Penulis Naskah",
    year: "2024 & 2025",
    category: "Film",
    description: "Terlibat aktif dalam produksi 3 film pendek bersama organisasi REKAM, mengambil peran penting dalam pencahayaan, asistensi penyutradaraan, dan pengembangan naskah.",
    imageSrc: "img/projects-media/shortmovie-rekam/thumb-rekam.png", // Contoh path gambar
    links: [ // Tambahkan array links
      "https://youtu.be/zxcIYtyVYck?si=7uoGI4ij8XmIWnve", // Ganti dengan link yang sebenarnya
      "https://youtu.be/H99FTFcs_hg?si=NT3ZJJNDx14Q99FY", // Ganti dengan link yang sebenarnya
      "https://youtu.be/yc1ZjcVw7VE?si=kE-5bDg2n9AtvD3Z"  // Ganti dengan link yang sebenarnya
    ]
  },
  {
    title: "Produksi Video Profile dan Safety Video PT. WIKA CLT BATAM",
    role: "Videographer dan Editor",
    year: "2024",
    category: "Videografi",
    description: "Bertanggung jawab atas produksi video profil perusahaan dan video keselamatan kerja untuk PT. WIKA CLT BATAM, mulai dari konsep hingga editing akhir.",
    imageSrc: "img/projects-media/ptwikaclt-project/ptwikaclt.png", // Contoh path gambar
    links: [ // Tambahkan array links
      "https://youtu.be/4nrpSJE0ACE", // Ganti dengan link yang sebenarnya
      "https://youtu.be/pd3HE_Q0bBk", // Ganti dengan link yang sebenarnya
    ]
  },
  {
    title: "Film Pendek – Komunitas Film",
    role: "Sutradara, Clapperboard, Aktor pendukung, Asisten Kamera",
    year: "2021 & 2022",
    category: "Film",
    description: "Berkontribusi dalam berbagai peran dalam pembuatan 5 film pendek bersama teman-teman dari komunitas film, memperkaya pengalaman dalam berbagai aspek produksi film.",
    imageSrc: "img/projects-media/shortmovie-community/thumb-community.png", // Contoh path gambar
    links: [
      "https://youtu.be/fRFhp184tF0?si=kXR68SyyU-H69eF5",
      "https://youtu.be/S8R2itY2O8g?si=ajAWWlyzk4M_XQRR",
      "https://youtu.be/5L6lS376vKg?si=4LhhrTGHPCcGEs4Q",
      "https://youtu.be/AhWBeAA4nbk?si=GoiIM0qgTZ7w-9Ao",
      "https://youtu.be/7mWek3TFsgM?si=ju2Ka0nraDq24m7L"
    ]
  },
  {
    title: "Produksi Video Ujian Kompetensi Keahlian (UKK) – SMK Negeri 5 Batam",
    role: "Videographer dan Editor",
    year: "2021 & 2022",
    category: "Videografi",
    description: "Terlibat dalam pembuatan video dokumentasi untuk Ujian Kompetensi Keahlian siswa SMK, mencakup pengambilan gambar dan proses editing hingga menjadi video final.",
    imageSrc: "img/projects-media/ukk-smk5/thumb-ukk.jpg", // Contoh path gambar
    links: [ // Tambahkan array links
      "https://youtu.be/SYfa7zMPGo8?si=H8RGhQrprkgOV5eU", // Ganti dengan link yang sebenarnya
      "https://www.instagram.com/tv/CesN35MpTV1/?utm_source=ig_web_copy_link&igsh=MXJtZWY4ZmxhbzR1Yw==", // Ganti dengan link yang sebenarnya
    ]
  }
];

const volunteers = [
  {
    title: "Anggota Panitia - Ayah Amanah Event, Batam",
    role: "Divisi Fasilitas, SHARING TIME oleh UHA (Ust. Hanan Attaki, Lc.)",
    period: "Februari 2025",
    details: [
      "Bertanggung jawab mengelola dan mendistribusikan fasilitas acara, termasuk blok catatan, pulpen, air mineral, dan tas kresek.",
      "Memastikan kenyamanan peserta dengan menyiapkan dan mengatur tempat duduk lesehan di Radisson Golf & Convention Center Ballroom, Batam.",
      "Berpartisipasi dalam rapat teknis dan menangani logistik di lokasi satu hari sebelum acara.",
      "Mendukung operasional untuk empat sesi acara yang berlangsung dari pukul 05.00 hingga 23.00 WIB, memastikan fasilitas diisi ulang dan didistribusikan untuk setiap sesi.",
      "Mempelajari persiapan acara secara langsung dan mengembangkan kerja tim, koordinasi, serta kemampuan beradaptasi dalam lingkungan yang serba cepat."
    ],
    // Tambahkan properti imageSrcs untuk gambar-gambar volunteer
    imageSrcs: [
      "img/volunteer/uha/uha1.jpeg", // Ganti dengan jalur gambar sebenarnya
      "img/volunteer/uha/uha2.jpeg", // Ganti dengan jalur gambar sebenarnya
    ]
  },
  {
    title: "Liaison Officer – Eufornice Fest Vol. II, Batam",
    role: "Volunteer, menjadi LO untuk Artis 'For Revenge'",
    period: "September 2024",
    details: [
      "Mendampingi artis 'For Revenge' sepanjang acara konser yang diadakan di Temenggung Abdul Jamal, Kota Batam.",
      "Berperan sebagai penghubung utama antara artis dan panitia penyelenggara untuk memastikan kelancaran komunikasi.",
      "Mengkoordinasikan jadwal artis, logistik, dan memberikan informasi real-time terkait rundown acara.",
      "Memastikan kebutuhan dan permintaan artis terpenuhi secara profesional dan tepat waktu.",
      "Memperoleh pengalaman langsung dalam manajemen artis dan operasional acara selama konser musik skala besar."
    ],
    imageSrcs: [
      "img/volunteer/lo-forrevenge/lo1.jpg",
      "img/volunteer/lo-forrevenge/lo2.jpg",
      "img/volunteer/lo-forrevenge/lo3.jpg",
      "img/volunteer/lo-forrevenge/lo4.jpg"
    ]
  },
  {
    title: "Photographer – Badan Eksekutif Mahasiswa Polibatam, Batam",
    role: "Divisi Dokumentasi, Acara Pengabdian Staf Muda BEM 2024",
    period: "Desember 2024",
    details: [
      "Bekerja sama dengan tiga rekan selama fase pra-acara untuk mendesain logo acara resmi.",
      "Ditugaskan di Divisi Dokumentasi untuk mengambil foto semua kegiatan acara selama dua hari (14-15 Desember 2024) sesuai jadwal yang diberikan oleh Divisi Acara.",
      "Mendokumentasikan kegiatan bakti sosial di lokasi, termasuk tindakan tim, keterlibatan masyarakat, dan momen seremonial.",
      "Memperoleh pengalaman berharga berkontribusi pada program sosial berbasis sukarelawan yang diselenggarakan oleh badan eksekutif mahasiswa.",
      "Memperkuat keterampilan bercerita visual dan kemampuan untuk bekerja dalam kondisi lapangan dengan peralatan dan batasan waktu yang terbatas."
    ],
    imageSrcs: [
      "img/volunteer/pengabdian/sertif-pengabdian-bem24.jpg",
      "img/volunteer/pengabdian/pengabdian1.jpg",
      "img/volunteer/pengabdian/pengabdian2.jpg",
      "img/volunteer/pengabdian/pengabdian3.jpg",
      "img/volunteer/pengabdian/pengabdian4.jpg",
      "img/volunteer/pengabdian/pengabdian5.jpg",
      "img/volunteer/pengabdian/pengabdian6.jpg"
    ]
  },
];

const certifications = [
  {
    title: "K3 – Keselamatan dan Kesehatan Kerja",
    publisher: "YOUTH4OSH",
    credentialId: "-",
    date: "Juni 2025",
    skills: ["Occupational Safety and Health (OSH)", "Risk Assessment", "Hazard Identification (HAZID)", "Workplace Safety Compliance", "Emergency Response Planning", "Basic First Aid Awareness", "Incident Reporting & Documentation"],
    imageSrc: "img/certificate/Certif9.jpg" // INI GAMBARNYA
  },
  {
    title: "UI/UX Design with Figma – Figma Camp Batch 1",
    publisher: "PT Ousean Global Digital",
    credentialId: "162/FIGMACP-GD/I/2025",
    date: "Januari 2025",
    skills: ["UI/UX Design", "Figma", "Prototyping"],
    imageSrc: "img/certificate/Certif1.jpg" // INI GAMBARNYA
  },
  {
    title: "Adobe Illustrator Camp Batch 2",
    publisher: "PT Ousean Global Digital",
    credentialId: "128/AICAMP-GD/II/2025",
    date: "Februari 2025",
    skills: ["Graphic Design", "Adobe Illustrator", "Poster Design"],
    imageSrc: "img/certificate/Certif2.jpg" // INI GAMBARNYA
  },
  {
    title: "International Course – Successful Career Planning for IT/Computer",
    publisher: "SmartPath",
    credentialId: "039/SP/IX/2023",
    date: "November 2023",
    skills: ["IT Management", "HTML", "CSS", "JavaScript"],
    imageSrc: "img/certificate/Certif3.png" // INI GAMBARNYA
  },
  {
    title: "Pelatihan Desain Grafis CORELDRAW untuk Pemula",
    publisher: "Tim Belajar CORELDRAW Indonesia",
    credentialId: "BCI/2023/11/04/GZ-PL-16",
    date: "November 2023",
    skills: ["Graphic Design", "CorelDRAW"],
    imageSrc: "img/certificate/Certif4.png" // INI GAMBARNYA
  },
  {
    title: "Pelatihan Design Grafis – Student Creative Science Digital Design Poster Contest",
    publisher: "Universitas Negeri Surabaya (UNESA)",
    credentialId: "035/Pan. Scientist/P2K FMIPA/Unesa/IX/23",
    date: "November 2023",
    skills: ["Graphic Design", "Poster Design"],
    imageSrc: "img/certificate/Certif5.jpg" // INI GAMBARNYA
  },
  {
    title: "Microsoft Office untuk Pemula (Word, Excel, PowerPoint)",
    publisher: "Pijar Mahir",
    credentialId: "2023/10/3194/892437",
    date: "Oktober 2023",
    skills: ["Microsoft Office", "Microsoft Word", "Microsoft Excel", "Microsoft PowerPoint"],
    imageSrcs: ["img/certificate/Certif6.jpg", "img/certificate/Certif6a.jpg"] // INI GAMBARNYA
  },
  {
    title: "Pelatihan Desain Grafis Vokasi Industri Berbasis Sistem 3-in-1 (Skilling)",
    publisher: "Balai Diklat Industri Padang",
    credentialId: "27074/BPSDMI/KEMASAN-PANGAN/VI/2023",
    date: "Juni 2023",
    skills: ["Graphic Design", "Canva", "Product Packaging Design"],
    imageSrcs:["img/certificate/Certif7.jpg", "img/certificate/Certif7a.jpg"] // INI GAMBARNYA
  },
  {
    title: "Pelatihan Teknologi Pengolahan Pengemasan bagi UMKM",
    publisher: "Badan Riset dan Inovasi Nasional RI (BRIN RI)",
    credentialId: "021/SERT/ITEBA/XII/2022",
    date: "Desember 2022",
    skills: ["UMKM", "Product Marketing", "Product Packaging Design", "Product Launch", "Product Management"],
    imageSrc: "img/certificate/Certif8.jpg" // INI GAMBARNYA
  }
];

let currentModalImageIndex = 0;
let currentModalCertImages = []; // Nama ini sekarang lebih generik, bisa digunakan untuk Certs dan Experiences/Volunteers

// --- Fungsi Populate Experiences (Diubah) ---
function populateExperiences() {
  const container = document.getElementById('experience-container');
  container.innerHTML = '';
  experiences.forEach((exp, index) => { // Tambahkan index
    const card = document.createElement('div');
    card.className = 'experience-card bg-white p-6 rounded-xl shadow-lg transition-all duration-300 ease-in-out';

    let imageDisplayHtml = '';
    let imageSources = [];

    if (exp.imageSrcs && exp.imageSrcs.length > 0) {
      imageSources = exp.imageSrcs;
    }

    if (imageSources.length > 1) {
      // Struktur untuk slider (carousel) di kartu utama
      imageDisplayHtml = `
        <div class="relative w-full h-48 mb-4 rounded-md border border-stone-200 overflow-hidden flex items-center justify-center">
            <img src="${imageSources[0]}" alt="Dokumentasi ${exp.title}" class="experience-slider-img w-full h-full object-contain cursor-pointer" data-current-index="0" data-experience-index="${index}" onerror="this.onerror=null;this.src='https://placehold.co/400x250/E2E8F0/A0AEC0?text=Gambar+Dokumentasi';">
            <button class="absolute left-1 top-1/2 -translate-y-1/2 bg-black bg-opacity-50 text-white p-2 rounded-full cursor-pointer hover:bg-opacity-75 prev-experience-btn" data-experience-index="${index}">
                <i class="fas fa-chevron-left"></i>
            </button>
            <button class="absolute right-1 top-1/2 -translate-y-1/2 bg-black bg-opacity-50 text-white p-2 rounded-full cursor-pointer hover:bg-opacity-75 next-experience-btn" data-experience-index="${index}">
                <i class="fas fa-chevron-right"></i>
            </button>
        </div>
      `;
    } else if (imageSources.length === 1) {
      // Hanya satu gambar, tampilkan seperti biasa dan bisa di-klik untuk modal
      imageDisplayHtml = `
        <img src="${imageSources[0]}" alt="Dokumentasi ${exp.title}" class="w-full h-48 object-contain mb-4 rounded-md border border-stone-200 cursor-pointer" onerror="this.onerror=null;this.src='https://placehold.co/400x250/E2E8F0/A0AEC0?text=Gambar+Dokumentasi';">
      `;
    } else {
        // Tidak ada gambar
        imageDisplayHtml = `
          <div class="w-full h-48 mb-4 rounded-md border border-stone-200 flex items-center justify-center text-stone-400">Tidak Ada Dokumentasi Gambar</div>
        `;
    }

    card.innerHTML = `
        <div class="flex justify-between items-start">
            <div>
                <h3 class="text-2xl font-semibold text-sky-600">${exp.title}</h3>
                <p class="text-md font-medium text-stone-600">${exp.company}</p>
                <p class="text-sm text-stone-500 mb-3">${exp.period}</p>
            </div>
            <button class="expand-btn text-sky-600 hover:text-sky-800 text-2xl">
                <i class="fas fa-chevron-down transition-transform duration-300"></i>
            </button>
        </div>
        <div class="expand-content mt-3 border-t pt-3">
            ${imageDisplayHtml} <ul class="list-disc list-inside space-y-1 text-stone-700">
                ${exp.details.map(detail => `<li>${detail}</li>`).join('')}
            </ul>
        </div>
    `;
    container.appendChild(card);

    const expandButton = card.querySelector('.expand-btn');
    const icon = expandButton.querySelector('i');
    expandButton.addEventListener('click', () => {
      card.classList.toggle('expanded');
      icon.classList.toggle('fa-chevron-down');
      icon.classList.toggle('fa-chevron-up');
    });

    // Event listener untuk zoom modal gambar pengalaman profesional
    const experienceImageElement = card.querySelector('.experience-slider-img') || card.querySelector('img');
    if (experienceImageElement && imageSources.length > 0) {
        experienceImageElement.addEventListener('click', () => {
            const modal = document.getElementById('certificate-modal'); // Menggunakan modal yang sama
            const modalImg = document.getElementById('modal-certificate-img');
            const modalPrevBtn = document.getElementById('modal-prev-cert-btn');
            const modalNextBtn = document.getElementById('modal-next-cert-btn');

            currentModalCertImages = imageSources; // Set gambar modal dari experience ini
            currentModalImageIndex = 0;

            if (experienceImageElement.classList.contains('experience-slider-img')) {
                currentModalImageIndex = parseInt(experienceImageElement.dataset.currentIndex);
            }

            modalImg.src = currentModalCertImages[currentModalImageIndex];
            modal.classList.remove('hidden');
            document.body.style.overflow = 'hidden';

            if (currentModalCertImages.length > 1) {
                modalPrevBtn.classList.remove('hidden');
                modalNextBtn.classList.remove('hidden');
            } else {
                modalPrevBtn.classList.add('hidden');
                modalNextBtn.classList.add('hidden');
            }
        });
    }

    // Logic untuk Slider Pengalaman Profesional (jika ada lebih dari 1 gambar di kartu utama)
    if (imageSources.length > 1) {
        const prevButton = card.querySelector('.prev-experience-btn');
        const nextButton = card.querySelector('.next-experience-btn');
        const sliderImg = card.querySelector('.experience-slider-img');

        let currentImageIndexLocal = 0;

        prevButton.addEventListener('click', (e) => {
            e.stopPropagation();
            currentImageIndexLocal = (currentImageIndexLocal - 1 + imageSources.length) % imageSources.length;
            sliderImg.src = imageSources[currentImageIndexLocal];
            sliderImg.dataset.currentIndex = currentImageIndexLocal;
        });

        nextButton.addEventListener('click', (e) => {
            e.stopPropagation();
            currentImageIndexLocal = (currentImageIndexLocal + 1) % imageSources.length;
            sliderImg.src = imageSources[currentImageIndexLocal];
            sliderImg.dataset.currentIndex = currentImageIndexLocal;
        });
    }
  });
}

function populateProjects() {
  const container = document.getElementById('projects-container');
  container.innerHTML = '';
  projects.forEach(proj => {
    const card = document.createElement('div');
    card.className = 'project-card bg-white p-6 rounded-xl shadow-lg flex flex-col justify-between';

    let imageHtml = '';
    if (proj.imageSrc) {
      imageHtml = `<img src="${proj.imageSrc}" alt="Proyek ${proj.title}" class="w-full h-48 object-cover mb-4 rounded-md border border-stone-200" onerror="this.onerror=null;this.src='https://placehold.co/400x250/E2E8F0/A0AEC0?text=Tidak+Ada+Gambar';">`;
    }

    let linksHtml = '';
    let buttonText = 'Lihat Proyek'; // Default text

    // Determine button text based on category
    if (proj.category === 'Film') {
        buttonText = 'Lihat Film';
    } else if (proj.category === 'Videografi') {
        buttonText = 'Lihat Video';
    }
    // Untuk kategori lain, akan tetap 'Lihat Proyek'

    if (proj.links && proj.links.length > 0) {
      // Perubahan di sini: Menambahkan kelas 'flex flex-wrap gap-2'
      linksHtml = '<div class="mt-4 flex flex-wrap gap-2">';
      proj.links.forEach(link => {
        linksHtml += `<a href="${link}" target="_blank" rel="noopener noreferrer" class="inline-block bg-sky-600 hover:bg-sky-700 text-white font-semibold py-2 px-4 rounded-lg shadow-md transition duration-300 text-sm">${buttonText}</a>`;
      });
      linksHtml += '</div>';
    } else if (proj.link) {
      linksHtml = `<a href="${proj.link}" target="_blank" rel="noopener noreferrer" class="mt-4 inline-block bg-sky-600 hover:bg-sky-700 text-white font-semibold py-2 px-4 rounded-lg shadow-md transition duration-300 text-sm">${buttonText}</a>`;
    }

    card.innerHTML = `
      ${imageHtml}
      <div>
        <h3 class="text-xl font-semibold text-sky-600 mb-2">${proj.title}</h3>
        <p class="text-sm font-medium text-stone-600 mb-1">Peran: ${proj.role}</p>
        <p class="text-sm text-stone-500 mb-1">Tahun: ${proj.year}</p>
        <span class="inline-block bg-sky-100 text-sky-700 text-xs font-semibold px-2.5 py-0.5 rounded-full mb-3">${proj.category}</span>
        <p class="text-stone-700 text-sm leading-relaxed">${proj.description}</p>
      </div>
      ${linksHtml}
    `;
    container.appendChild(card);
  });
}

function populateVolunteers() {
    const container = document.getElementById('volunteer-container');
    container.innerHTML = ''; // Clear existing content
    volunteers.forEach((vol, index) => { // Tambahkan index
        const card = document.createElement('div');
        card.className = 'experience-card bg-white p-6 rounded-xl shadow-lg transition-all duration-300 ease-in-out';

        let imageDisplayHtml = '';
        let imageSources = [];

        if (vol.imageSrcs && vol.imageSrcs.length > 0) {
            imageSources = vol.imageSrcs;
        }

        if (imageSources.length > 1) {
            // Struktur untuk slider (carousel) di kartu utama
            imageDisplayHtml = `
                <div class="relative w-full h-48 mb-4 rounded-md border border-stone-200 overflow-hidden flex items-center justify-center">
                    <img src="${imageSources[0]}" alt="Dokumentasi ${vol.title}" class="volunteer-slider-img w-full h-full object-contain cursor-pointer" data-current-index="0" data-volunteer-index="${index}" onerror="this.onerror=null;this.src='https://placehold.co/400x250/E2E8F0/A0AEC0?text=Gambar+Dokumentasi';">
                    <button class="absolute left-1 top-1/2 -translate-y-1/2 bg-black bg-opacity-50 text-white p-2 rounded-full cursor-pointer hover:bg-opacity-75 prev-volunteer-btn" data-volunteer-index="${index}">
                        <i class="fas fa-chevron-left"></i>
                    </button>
                    <button class="absolute right-1 top-1/2 -translate-y-1/2 bg-black bg-opacity-50 text-white p-2 rounded-full cursor-pointer hover:bg-opacity-75 next-volunteer-btn" data-volunteer-index="${index}">
                        <i class="fas fa-chevron-right"></i>
                    </button>
                </div>
            `;
        } else if (imageSources.length === 1) {
            // Hanya satu gambar, tampilkan seperti biasa dan bisa di-klik untuk modal
            imageDisplayHtml = `
                <img src="${imageSources[0]}" alt="Dokumentasi ${vol.title}" class="w-full h-48 object-contain mb-4 rounded-md border border-stone-200 cursor-pointer" onerror="this.onerror=null;this.src='https://placehold.co/400x250/E2E8F0/A0AEC0?text=Gambar+Dokumentasi';">
            `;
        } else {
            // Tidak ada gambar
            imageDisplayHtml = `
              <div class="w-full h-48 mb-4 rounded-md border border-stone-200 flex items-center justify-center text-stone-400">Tidak Ada Dokumentasi Gambar</div>
            `;
        }

        card.innerHTML = `
            <div class="flex justify-between items-start">
                <div>
                    <h3 class="text-2xl font-semibold text-sky-600">${vol.title}</h3>
                    <p class="text-md font-medium text-stone-600">${vol.role}</p>
                    <p class="text-sm text-stone-500 mb-3">${vol.period}</p>
                </div>
                <button class="expand-btn text-sky-600 hover:text-sky-800 text-2xl">
                    <i class="fas fa-chevron-down transition-transform duration-300"></i>
                </button>
            </div>
            <div class="expand-content mt-3 border-t pt-3">
                ${imageDisplayHtml}
                <ul class="list-disc list-inside space-y-1 text-stone-700">
                    ${vol.details.map(detail => `<li>${detail}</li>`).join('')}
                </ul>
            </div>
        `;
        container.appendChild(card);

        const expandButton = card.querySelector('.expand-btn');
        const icon = expandButton.querySelector('i');
        expandButton.addEventListener('click', () => {
          card.classList.toggle('expanded');
          icon.classList.toggle('fa-chevron-down');
          icon.classList.toggle('fa-chevron-up');
        });

        // Event listener untuk zoom modal gambar volunteer
        const volunteerImageElement = card.querySelector('.volunteer-slider-img') || card.querySelector('img');
        if (volunteerImageElement && imageSources.length > 0) { // Pastikan ada gambar untuk diklik
            volunteerImageElement.addEventListener('click', () => {
                const modal = document.getElementById('certificate-modal'); // Menggunakan modal sertifikat yang sudah ada
                const modalImg = document.getElementById('modal-certificate-img');
                const modalPrevBtn = document.getElementById('modal-prev-cert-btn');
                const modalNextBtn = document.getElementById('modal-next-cert-btn');

                // Set global variables for modal slider
                currentModalCertImages = imageSources; // Gunakan imageSources dari volunteer saat ini
                currentModalImageIndex = 0; // Default ke gambar pertama saat membuka modal

                if (volunteerImageElement.classList.contains('volunteer-slider-img')) {
                    currentModalImageIndex = parseInt(volunteerImageElement.dataset.currentIndex);
                }

                modalImg.src = currentModalCertImages[currentModalImageIndex];
                modal.classList.remove('hidden');
                document.body.style.overflow = 'hidden';

                // Show/hide navigation buttons in modal
                if (currentModalCertImages.length > 1) {
                    modalPrevBtn.classList.remove('hidden');
                    modalNextBtn.classList.remove('hidden');
                } else {
                    modalPrevBtn.classList.add('hidden');
                    modalNextBtn.classList.add('hidden');
                }
            });
        }

        // Logic untuk Slider Volunteer (jika ada lebih dari 1 gambar di kartu utama)
        if (imageSources.length > 1) {
            const prevButton = card.querySelector('.prev-volunteer-btn');
            const nextButton = card.querySelector('.next-volunteer-btn');
            const sliderImg = card.querySelector('.volunteer-slider-img');

            let currentImageIndexLocal = 0; // Local index for card slider

            prevButton.addEventListener('click', (e) => {
                e.stopPropagation();
                currentImageIndexLocal = (currentImageIndexLocal - 1 + imageSources.length) % imageSources.length;
                sliderImg.src = imageSources[currentImageIndexLocal];
                sliderImg.dataset.currentIndex = currentImageIndexLocal;
            });

            nextButton.addEventListener('click', (e) => {
                e.stopPropagation();
                currentImageIndexLocal = (currentImageIndexLocal + 1) % imageSources.length;
                sliderImg.src = imageSources[currentImageIndexLocal];
                sliderImg.dataset.currentIndex = currentImageIndexLocal;
            });
        }
    });
}

function populateCertifications() {
  const container = document.getElementById('sertifikasi-container');
  container.innerHTML = ''; // Clear existing content
  certifications.forEach((cert, index) => { // Tambahkan index
    const card = document.createElement('div');
    card.className = 'certification-card bg-white p-6 rounded-xl shadow-lg flex flex-col text-left';

    let imageDisplayHtml = '';
    let imageSources = [];

    if (cert.imageSrcs && cert.imageSrcs.length > 0) {
      imageSources = cert.imageSrcs;
    } else if (cert.imageSrc) {
      imageSources = [cert.imageSrc];
    }

    if (imageSources.length > 1) {
      // Struktur untuk slider (carousel)
      imageDisplayHtml = `
        <div class="relative w-full h-48 mb-4 rounded-md border border-stone-200 overflow-hidden flex items-center justify-center">
            <img src="${imageSources[0]}" alt="Sertifikat ${cert.title}" class="certificate-slider-img w-full h-full object-contain" data-current-index="0" data-cert-index="${index}" onerror="this.onerror=null;this.src='https://placehold.co/400x250/E2E8F0/A0AEC0?text=Gambar+Sertifikat';">
            <button class="absolute left-1 top-1/2 -translate-y-1/2 bg-black bg-opacity-50 text-white p-2 rounded-full cursor-pointer hover:bg-opacity-75 prev-cert-btn" data-cert-index="${index}">
                <i class="fas fa-chevron-left"></i>
            </button>
            <button class="absolute right-1 top-1/2 -translate-y-1/2 bg-black bg-opacity-50 text-white p-2 rounded-full cursor-pointer hover:bg-opacity-75 next-cert-btn" data-cert-index="${index}">
                <i class="fas fa-chevron-right"></i>
            </button>
        </div>
      `;
    } else if (imageSources.length === 1) {
      // Hanya satu gambar, tampilkan seperti biasa
      imageDisplayHtml = `
        <img src="${imageSources[0]}" alt="Sertifikat ${cert.title}" class="w-full h-48 object-contain mb-4 rounded-md border border-stone-200" onerror="this.onerror=null;this.src='https://placehold.co/400x250/E2E8F0/A0AEC0?text=Gambar+Sertifikat';">
      `;
    } else {
        // Tidak ada gambar
        imageDisplayHtml = `
          <div class="w-full h-48 object-contain mb-4 rounded-md border border-stone-200 flex items-center justify-center text-stone-400">Tidak Ada Gambar</div>
        `;
    }


    card.innerHTML = `
        ${imageDisplayHtml}
        <div>
            <h3 class="text-lg font-semibold text-sky-600 mb-1">${cert.title}</h3>
            <p class="text-sm font-medium text-stone-600 mb-1">${cert.publisher}</p>
            <p class="text-xs text-stone-500 mb-1">ID Kredensial: ${cert.credentialId}</p>
            <p class="text-xs text-stone-500 mb-2">Tanggal Terbit: ${cert.date}</p>
            <div class="mt-auto">
                <p class="text-xs font-semibold text-stone-700 mb-1">Keahlian Terkait:</p>
                <div class="flex flex-wrap gap-1">
                    ${cert.skills.map(skill => `<span class="bg-sky-100 text-sky-700 px-2 py-0.5 rounded-full text-xs">${skill}</span>`).join('')}
                </div>
            </div>
        </div>
    `;
    container.appendChild(card);

    // Event listener untuk zoom modal (tetap sama)
    const cardImage = card.querySelector('.certificate-slider-img') || card.querySelector('img'); // Ambil gambar di dalam slider atau gambar tunggal
    if (cardImage) {
        cardImage.addEventListener('click', () => {
            const modal = document.getElementById('certificate-modal');
            const modalImg = document.getElementById('modal-certificate-img');
            modalImg.src = cardImage.src; // Set sumber gambar modal ke gambar yang sedang aktif
            modal.classList.remove('hidden');
            document.body.style.overflow = 'hidden';
        });
    }

    // --- Logic untuk Slider Sertifikat (jika ada lebih dari 1 gambar) ---
    if (imageSources.length > 1) {
        const prevButton = card.querySelector('.prev-cert-btn');
        const nextButton = card.querySelector('.next-cert-btn');
        const sliderImg = card.querySelector('.certificate-slider-img');

        let currentImageIndex = 0;

        prevButton.addEventListener('click', (e) => {
            e.stopPropagation(); // Mencegah event click pada kartu utama saat tombol panah ditekan
            currentImageIndex = (currentImageIndex - 1 + imageSources.length) % imageSources.length;
            sliderImg.src = imageSources[currentImageIndex];
            sliderImg.dataset.currentIndex = currentImageIndex; // Update data attribute for zoom
        });

        nextButton.addEventListener('click', (e) => {
            e.stopPropagation(); // Mencegah event click pada kartu utama saat tombol panah ditekan
            currentImageIndex = (currentImageIndex + 1) % imageSources.length;
            sliderImg.src = imageSources[currentImageIndex];
            sliderImg.dataset.currentIndex = currentImageIndex; // Update data attribute for zoom
        });
    }
  });
}

// Tambahkan event listener untuk tombol tutup modal
document.addEventListener('DOMContentLoaded', () => {
    // ... (kode DOMContentLoaded yang sudah ada) ...

    // Pastikan modal dan tombol close ada sebelum menambahkan event listener
    const certificateModal = document.getElementById('certificate-modal');
    const closeModalBtn = document.getElementById('close-modal-btn');

    if (closeModalBtn && certificateModal) {
        closeModalBtn.addEventListener('click', () => {
            certificateModal.classList.add('hidden'); // Sembunyikan modal
            document.body.style.overflow = ''; // Aktifkan kembali scroll body
        });
    }

    // Menutup modal jika area di luar gambar modal diklik
    if (certificateModal) {
        certificateModal.addEventListener('click', (e) => {
            if (e.target === certificateModal) { // Hanya jika klik langsung pada overlay modal
                certificateModal.classList.add('hidden');
                document.body.style.overflow = '';
            }
        });
    }

    // ... (sisa dari DOMContentLoaded) ...
});


// Navigation scroll behavior
document.querySelectorAll('.nav-link').forEach(anchor => {
    anchor.addEventListener('click', function (e) {
        if (this.getAttribute('href').startsWith('#')) {
            e.preventDefault();
            const targetId = this.getAttribute('href');
            const targetElement = document.querySelector(targetId);
            if (targetElement) {
                // Consider navbar height for accurate scrolling
                const navbarHeight = document.querySelector('nav').offsetHeight;
                const elementPosition = targetElement.getBoundingClientRect().top;
                const offsetPosition = elementPosition + window.pageYOffset - navbarHeight;

                window.scrollTo({
                    top: offsetPosition,
                    behavior: "smooth"
                });

                // Close mobile menu if open
                const mobileMenu = document.getElementById('mobile-menu');
                if (!mobileMenu.classList.contains('hidden')) {
                    mobileMenu.classList.add('hidden');
                }
            }
        }
    });
});

// Mobile menu toggle
const mobileMenuButton = document.getElementById('mobile-menu-button');
const mobileMenu = document.getElementById('mobile-menu');
if (mobileMenuButton && mobileMenu) {
    mobileMenuButton.addEventListener('click', () => {
        mobileMenu.classList.toggle('hidden');
    });
}

// Active Nav Link Highlighting
const sections = document.querySelectorAll('section');
const navLinks = document.querySelectorAll('.nav-link');

window.addEventListener('scroll', () => {
    let current = '';
    const navbarHeight = document.querySelector('nav').offsetHeight;

    sections.forEach(section => {
        const sectionTop = section.offsetTop - navbarHeight - 50; // Adjusted offset
        if (pageYOffset >= sectionTop) {
            current = section.getAttribute('id');
        }
    });

    navLinks.forEach(link => {
        link.classList.remove('active');
        if (link.getAttribute('href') === `#${current}`) {
            link.classList.add('active');
        }
    });
     // Fallback for top of page or if no section is "current"
    if (!current && window.pageYOffset < sections[0].offsetTop - navbarHeight - 50) {
        const homeLink = document.querySelector('.nav-link[href="#beranda"]');
        if (homeLink) homeLink.classList.add('active');
    }
});


// Update copyright year
document.getElementById('currentYear').textContent = new Date().getFullYear();

// Initialize functions on DOMContentLoaded
document.addEventListener('DOMContentLoaded', () => {
    populateExperiences();
    populateProjects();
    populateVolunteers();
    populateCertifications(); // Panggil fungsi ini

    // Initial active link check
    const initialHash = window.location.hash || '#beranda';
    const initialActiveLink = document.querySelector(`.nav-link[href="${initialHash}"]`);
    if (initialActiveLink) {
        initialActiveLink.classList.add('active');
    } else {
        // Default to 'beranda' if hash is invalid or not present
        const homeLink = document.querySelector('.nav-link[href="#beranda"]');
        if (homeLink) homeLink.classList.add('active');
    }
    // Simulate content loading and hide overlay
    const loadingOverlay = document.getElementById('loading-overlay');
    if (loadingOverlay) {
        setTimeout(() => {
            loadingOverlay.classList.add('hidden');
        }, 500); // Adjust delay as needed, e.g., for actual data fetching
    }
});